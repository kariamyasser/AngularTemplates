(self.webpackChunkkyg_angular_templates=self.webpackChunkkyg_angular_templates||[]).push([[237],{56237:function(e,t,r){"use strict";r.d(t,{g6:function(){return C},fi:function(){return w}});var n=r(28784),i=r(84999),o=r(15121),s=r(31112),l=r(41998),a=r(61116),u=r(11785),c=r(64762),h=r(99624),d=r(31041);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function a(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(S){a=function(e,t,r){return e[t]=r}}function u(e,t,r,i){var o=Object.create((t&&t.prototype instanceof d?t:d).prototype),s=new L(i||[]);return n(o,"_invoke",{value:w(e,r,s)}),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var h={};function d(){}function v(){}function g(){}var m={};a(m,o,function(){return this});var p=Object.getPrototypeOf,y=p&&p(p(O([])));y&&y!==t&&r.call(y,o)&&(m=y);var b=g.prototype=d.prototype=Object.create(m);function E(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function i(n,o,s,l){var a=c(e[n],e,o);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){i("next",e,s,l)},function(e){i("throw",e,s,l)}):t.resolve(h).then(function(e){u.value=e,s(u)},function(e){return i("throw",e,s,l)})}l(a.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t(function(t,n){i(e,r,t,n)})}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var l=q(s,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var a=c(e,t,r);if("normal"===a.type){if(n=r.done?"completed":"suspendedYield",a.arg===h)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n="completed",r.method="throw",r.arg=a.arg)}}}function q(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,q(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=g,n(b,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=a(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(C.prototype),a(C.prototype,s,function(){return this}),e.AsyncIterator=C,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new C(u(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(b),a(b,l,"Generator"),a(b,o,function(){return this}),a(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(l&&a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var v=[[["","quill-editor-toolbar",""]]],g=["[quill-editor-toolbar]"],m={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},p=function(e,t){return e||t||"html"},y=new u.OlP("config"),b=function(){var e=function(){function e(t){(0,s.Z)(this,e),this.config=t,this.count=0,this.config||(this.config={modules:m})}return(0,l.Z)(e,[{key:"getQuill",value:function(){var e=this;return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise(function(t){return(0,c.mG)(e,void 0,void 0,f().mark(function e(){var n,i,o,s=this;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(39).then(r.t.bind(r,98039,23));case 2:this.Quill=(o=e.sent).default?o.default:o,null===(n=this.config.customOptions)||void 0===n||n.forEach(function(e){var t=s.Quill.import(e.import);t.whitelist=e.whitelist,s.Quill.register(t,!0,s.config.suppressGlobalRegisterWarning)}),null===(i=this.config.customModules)||void 0===i||i.forEach(function(e){s.Quill.register(e.path,e.implementation,s.config.suppressGlobalRegisterWarning)}),t(this.Quill);case 7:case"end":return e.stop()}},e,this)}))})),this.$importPromise}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.LFG(y))},e.\u0275prov=u.Yz7({factory:function(){return new e(u.LFG(y))},token:e,providedIn:"root"}),e}(),E=function(){var e=function(){function e(t,r,n,i,o,l,a){var c=this;(0,s.Z)(this,e),this.elementRef=t,this.domSanitizer=r,this.doc=n,this.platformId=i,this.renderer=o,this.zone=l,this.service=a,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.onEditorCreated=new u.vpe,this.onEditorChanged=new u.vpe,this.onContentChanged=new u.vpe,this.onSelectionChanged=new u.vpe,this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.disabled=!1,this.debounceTimers=[],this.valueGetter=function(e,t){var r=t.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==r&&"<div><br></div>"!==r||(r=null);var n=r,i=p(c.format,c.service.config.format);if("text"===i)n=e.getText();else if("object"===i)n=e.getContents();else if("json"===i)try{n=JSON.stringify(e.getContents())}catch(o){n=e.getText()}return n},this.valueSetter=function(e,t){var r=p(c.format,c.service.config.format);if("html"===r)return c.sanitize&&(t=c.domSanitizer.sanitize(u.q3G.HTML,t)),e.clipboard.convert(t);if("json"===r)try{return JSON.parse(t)}catch(n){return[{insert:t}]}return t},this.selectionChangeHandler=function(e,t,r){var n=!e&&!!c.onModelTouched;(c.onBlur.observers.length||c.onFocus.observers.length||c.onSelectionChanged.observers.length||n)&&c.zone.run(function(){null===e?c.onBlur.emit({editor:c.quillEditor,source:r}):null===t&&c.onFocus.emit({editor:c.quillEditor,source:r}),c.onSelectionChanged.emit({editor:c.quillEditor,oldRange:t,range:e,source:r}),n&&c.onModelTouched()})},this.textChangeHandler=function(e,t,r){var n=c.quillEditor.getText(),i=c.quillEditor.getContents(),o=c.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==o&&"<div><br></div>"!==o||(o=null);var s=c.trackChanges||c.service.config.trackChanges,l=("user"===r||s&&"all"===s)&&!!c.onModelChange;(c.onContentChanged.observers.length||l)&&c.zone.run(function(){l&&c.onModelChange(c.valueGetter(c.quillEditor,c.editorElem)),c.onContentChanged.emit({content:i,delta:e,editor:c.quillEditor,html:o,oldDelta:t,source:r,text:n})})},this.editorChangeHandler=function(e,t,r,n){if(c.onEditorChanged.observers.length)if("text-change"===e){var i=c.quillEditor.getText(),o=c.quillEditor.getContents(),s=c.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==s&&"<div><br></div>"!==s||(s=null),c.zone.run(function(){c.onEditorChanged.emit({content:o,delta:t,editor:c.quillEditor,event:e,html:s,oldDelta:r,source:n,text:i})})}else c.onEditorChanged.emit({editor:c.quillEditor,event:e,oldRange:r,range:t,source:n})}}return(0,l.Z)(e,[{key:"ngAfterViewInit",value:function(){return(0,c.mG)(this,void 0,void 0,f().mark(function e(){var t,r,n,i,s,l,u,c,h,d,v=this;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,a.PM)(this.platformId)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.service.getQuill();case 4:t=e.sent,this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]"),r=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),n=Object.assign({},this.modules||this.service.config.modules),r?n.toolbar=r:void 0===n.toolbar&&(n.toolbar=m.toolbar),void 0===(i=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder)&&(i="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(function(e){v.renderer.setStyle(v.editorElem,e,v.styles[e])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(function(e){var r=t.import(e.import);r.whitelist=e.whitelist,t.register(r,!0)}),this.customModules.forEach(function(e){t.register(e.path,e.implementation)}),(s=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds)||(s=this.service.config.bounds?this.service.config.bounds:this.doc.body),!(l=this.debug)&&!1!==l&&this.service.config.debug&&(l=this.service.config.debug),(u=this.readOnly)||!1===this.readOnly||(u=void 0!==this.service.config.readOnly&&this.service.config.readOnly),(c=this.scrollingContainer)||null===this.scrollingContainer||(c=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null),(h=this.formats)||void 0!==h||(h=this.service.config.formats?(0,o.Z)(this.service.config.formats):null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(function(){var e,r,o;if(v.quillEditor=new t(v.editorElem,{bounds:s,debug:l,formats:h,modules:n,placeholder:i,readOnly:u,scrollingContainer:c,strict:v.strict,theme:v.theme||(v.service.config.theme?v.service.config.theme:"snow")}),v.linkPlaceholder){var a=null===(r=null===(e=v.quillEditor)||void 0===e?void 0:e.theme)||void 0===r?void 0:r.tooltip,d=null===(o=null==a?void 0:a.root)||void 0===o?void 0:o.querySelector("input[data-link]");(null==d?void 0:d.dataset)&&(d.dataset.link=v.linkPlaceholder)}}),this.content&&("text"===p(this.format,this.service.config.format)?this.quillEditor.setText(this.content,"silent"):(d=this.valueSetter(this.quillEditor,this.content),this.quillEditor.setContents(d,"silent")),this.quillEditor.getModule("history").clear()),this.setDisabledState(),this.editorChangeHandlerRef=this.debounce(this.editorChangeHandler),this.quillEditor.on("editor-change",this.editorChangeHandlerRef),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.textChangeHandlerRef=this.debounce(this.textChangeHandler),this.quillEditor.on("text-change",this.textChangeHandlerRef),setTimeout(function(){v.onValidatorChanged&&v.onValidatorChanged(),v.onEditorCreated.emit(v.quillEditor)});case 35:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){var e=this;this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandlerRef),this.quillEditor.off("editor-change",this.editorChangeHandlerRef),this.debounceTimers.forEach(function(t){return e.clearDebounceTimer(t)}))}},{key:"ngOnChanges",value:function(e){var t=this;if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){var r=e.styles.currentValue,n=e.styles.previousValue;n&&Object.keys(n).forEach(function(e){t.renderer.removeStyle(t.editorElem,e)}),r&&Object.keys(r).forEach(function(e){t.renderer.setStyle(t.editorElem,e,t.styles[e])})}if(e.classes){var i=e.classes.currentValue,o=e.classes.previousValue;o&&this.removeClasses(o),i&&this.addClasses(i)}}}},{key:"addClasses",value:function(t){var r=this;e.normalizeClassNames(t).forEach(function(e){r.renderer.addClass(r.editorElem,e)})}},{key:"removeClasses",value:function(t){var r=this;e.normalizeClassNames(t).forEach(function(e){r.renderer.removeClass(r.editorElem,e)})}},{key:"writeValue",value:function(e){if((!this.filterNull||null!==e)&&(this.content=e,this.quillEditor)){var t=p(this.format,this.service.config.format),r=this.valueSetter(this.quillEditor,e);if(this.compareValues){var n=this.quillEditor.getContents();if(JSON.stringify(n)===JSON.stringify(r))return}e?"text"===t?this.quillEditor.setText(e):this.quillEditor.setContents(r):this.quillEditor.setText("")}}},{key:"setDisabledState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.disabled;this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChanged=e}},{key:"validate",value:function(){if(!this.quillEditor)return null;var e={},t=!0,r=this.quillEditor.getText(),n=this.trimOnValidation?r.trim().length:1===r.length&&0===r.trim().length?0:r.length-1;return this.minLength&&n&&n<this.minLength&&(e.minLengthError={given:n,minLength:this.minLength},t=!1),this.maxLength&&n>this.maxLength&&(e.maxLengthError={given:n,maxLength:this.maxLength},t=!1),this.required&&!n&&(e.requiredError={empty:!0},t=!1),t?null:e}},{key:"debounce",value:function(e){var t,r=this;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];"number"==typeof r.debounceTime?(r.clearDebounceTimer(t),t=r.doc.defaultView.setTimeout(function(){r.clearDebounceTimer(t),e.apply(void 0,i)},r.debounceTime),r.debounceTimers.push(t)):e.apply(void 0,i)}}},{key:"clearDebounceTimer",value:function(e){this.doc.defaultView.clearTimeout(e),this.debounceTimers=this.debounceTimers.filter(function(t){return t!==e})}}],[{key:"normalizeClassNames",value:function(e){return e.trim().split(" ").reduce(function(e,t){var r=t.trim();return r&&e.push(r),e},[])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(h.H7),u.Y36(a.K0),u.Y36(u.Lbi),u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(b))},e.\u0275dir=u.lG2({type:e,inputs:{required:"required",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",customOptions:"customOptions",customModules:"customModules",preserveWhitespace:"preserveWhitespace",trimOnValidation:"trimOnValidation",compareValues:"compareValues",filterNull:"filterNull",valueGetter:"valueGetter",valueSetter:"valueSetter",format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",formats:"formats",scrollingContainer:"scrollingContainer",bounds:"bounds",trackChanges:"trackChanges",classes:"classes",linkPlaceholder:"linkPlaceholder",debounceTime:"debounceTime"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[u.TTD]}),e}(),C=function(){var e=function(e){(0,n.Z)(r,e);var t=(0,i.Z)(r);function r(e,n,i,o,l,a,u){return(0,s.Z)(this,r),t.call(this,e,n,i,o,l,a,u)}return(0,l.Z)(r)}(E);return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq),u.Y36(h.H7),u.Y36(a.K0),u.Y36(u.Lbi),u.Y36(u.Qsj),u.Y36(u.R0b),u.Y36(b))},e.\u0275cmp=u.Xpm({type:e,selectors:[["quill-editor"]],features:[u._Bn([{multi:!0,provide:d.JU,useExisting:(0,u.Gpc)(function(){return e})},{multi:!0,provide:d.Cf,useExisting:(0,u.Gpc)(function(){return e})}]),u.qOj],ngContentSelectors:g,decls:1,vars:0,template:function(e,t){1&e&&(u.F$t(v),u.Hsn(0))},encapsulation:2}),e}(),w=function(){var e=function(){function e(){(0,s.Z)(this,e)}return(0,l.Z)(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:y,useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[b],imports:[[a.ez]]}),e}()}}]);